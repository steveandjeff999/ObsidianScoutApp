<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="ObsidianScout.Views.MenuPage"
             Title="Menu">
  <ScrollView>
    <VerticalStackLayout Padding="20" Spacing="20">

     <!-- ═══════════════════════════════════════════════════════════════
      USER PROFILE HEADER
       ═══════════════════════════════════════════════════════════════ -->
 <Border Style="{StaticResource ElevatedGlassCard}" Padding="20">
            <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="16">
   <!-- Avatar Circle (shows profile picture or initials) -->
     <Grid Grid.Column="0" WidthRequest="52" HeightRequest="52" VerticalOptions="Center">
       <Ellipse Fill="{AppThemeBinding Light={StaticResource LightSurfaceVariant}, Dark={StaticResource DarkSurfaceVariant}}"
                WidthRequest="52" HeightRequest="52"
                Stroke="{AppThemeBinding Light={StaticResource LightBorder}, Dark={StaticResource DarkBorder}}"
                StrokeThickness="1" />

       <Image x:Name="MenuAvatarImage"
              Source="{StaticResource IconUser}"
              Aspect="AspectFill"
              IsVisible="False"
              WidthRequest="52" HeightRequest="52"
              HorizontalOptions="Center" VerticalOptions="Center">
         <Image.Clip>
           <EllipseGeometry Center="26,26" RadiusX="26" RadiusY="26" />
         </Image.Clip>
       </Image>

       <Label x:Name="MenuAvatarInitials"
              Text="?"
              HorizontalTextAlignment="Center"
              VerticalTextAlignment="Center"
              FontSize="18"
              FontAttributes="Bold"
              TextColor="{AppThemeBinding Light={StaticResource LightTextSecondary}, Dark={StaticResource DarkTextSecondary}}"
              IsVisible="True"
              WidthRequest="52" HeightRequest="52"
              HorizontalOptions="Center" VerticalOptions="Center" />
     </Grid>

   <!-- User Info -->
  <VerticalStackLayout Grid.Column="1" Spacing="4" VerticalOptions="Center">
       <Label x:Name="UsernameLabel"
         Text="User"
      FontSize="18"
  FontFamily="OpenSansSemibold"
       FontAttributes="Bold"
        TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}" />
    <Label x:Name="TeamLabel"
       Text=""
 FontSize="13"
  TextColor="{AppThemeBinding Light={StaticResource LightTextSecondary}, Dark={StaticResource DarkTextSecondary}}" />
               </VerticalStackLayout>

   <!-- Logout + History quick actions -->
      <HorizontalStackLayout Grid.Column="2" Spacing="8" VerticalOptions="Center">
        <ImageButton Source="{StaticResource IconClock}" WidthRequest="36" HeightRequest="36" BackgroundColor="Transparent" Clicked="OnHistoryClicked"/>
        <Button
          Text="Logout"
          Clicked="OnLogoutClicked"
          Style="{StaticResource OutlineButton}"
          HeightRequest="40"
          Padding="16,0"
          VerticalOptions="Center" />
      </HorizontalStackLayout>
     </Grid>
  </Border>

   <!-- ═══════════════════════════════════════════════════════════════
       OFFLINE MODE TOGGLE
          ═══════════════════════════════════════════════════════════════ -->
      <Border Style="{StaticResource CompactGlassCard}" Padding="16">
  <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="16">
 <Border Grid.Column="0"
  BackgroundColor="{AppThemeBinding Light=#DBEAFE, Dark=#1E3A5F}"
   WidthRequest="40"
HeightRequest="40"
   VerticalOptions="Center">
   <Border.StrokeShape>
 <RoundRectangle CornerRadius="10" />
       </Border.StrokeShape>
   <Border.StrokeThickness>0</Border.StrokeThickness>
   <Image Source="{StaticResource IconOffline}"
         WidthRequest="18"
         HeightRequest="18"
         HorizontalOptions="Center"
         VerticalOptions="Center"
         Aspect="AspectFit" />
       </Border>

  <Label Grid.Column="1"
     Text="Offline Mode"
  FontSize="15"
    FontFamily="OpenSansSemibold"
          TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
      VerticalOptions="Center"
      HorizontalOptions="Start" />

<Switch Grid.Column="2"
      x:Name="OfflineModeSwitch"
     Toggled="OnOfflineModeToggled"
       HorizontalOptions="End"
       VerticalOptions="Center" />

    </Grid>
        </Border>

            <!-- ═══════════════════════════════════════════════════════════════
        MAIN NAVIGATION SECTION
       ═══════════════════════════════════════════════════════════════ -->
 <Label Text="MAIN"
 Style="{StaticResource SectionHeader}"
  Margin="4,8,0,0" />

            <Border Style="{StaticResource GlassCard}" Padding="8">
        <VerticalStackLayout Spacing="4">
        <!-- Home -->
     <Border Padding="14,12" BackgroundColor="Transparent">
       <Border.StrokeShape>
      <RoundRectangle CornerRadius="10" />
            </Border.StrokeShape>
          <Border.GestureRecognizers>
      <TapGestureRecognizer Tapped="OnHomeClicked" />
     </Border.GestureRecognizers>
<Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
 <Border Grid.Column="0"
     BackgroundColor="{AppThemeBinding Light=#DBEAFE, Dark=#1E3A5F}"
       WidthRequest="36"
        HeightRequest="36"
       VerticalOptions="Center">
      <Border.StrokeShape>
       <RoundRectangle CornerRadius="8" />
     </Border.StrokeShape>
         <Border.StrokeThickness>0</Border.StrokeThickness>
          <Image Source="{StaticResource IconHome}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
             </Border>
   <Label Grid.Column="1"
             Text="Home"
       FontSize="15"
     FontFamily="OpenSansSemibold"
   TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
     VerticalOptions="Center" />
  <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
   </Grid>
</Border>

     <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

   <!-- Teams -->
    <Border Padding="14,12" BackgroundColor="Transparent">
       <Border.StrokeShape>
     <RoundRectangle CornerRadius="10" />
          </Border.StrokeShape>
  <Border.GestureRecognizers>
 <TapGestureRecognizer Tapped="OnTeamsClicked" />
       </Border.GestureRecognizers>
        <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
    <Border Grid.Column="0"
            BackgroundColor="{AppThemeBinding Light=#DBEAFE, Dark=#1E3A5F}"
            WidthRequest="36"
            HeightRequest="36"
 VerticalOptions="Center">
        <Border.StrokeShape>
<RoundRectangle CornerRadius="8" />
        </Border.StrokeShape>
        <Border.StrokeThickness>0</Border.StrokeThickness>
      <Image Source="{StaticResource IconTeams}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
    </Border>
  <Label Grid.Column="1"
     Text="Teams"
       FontSize="15"
      FontFamily="OpenSansSemibold"
       TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
         VerticalOptions="Center" />
      <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
         </Grid>
  </Border>

     <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

    <!-- Events -->
     <Border Padding="14,12" BackgroundColor="Transparent">
    <Border.StrokeShape>
    <RoundRectangle CornerRadius="10" />
         </Border.StrokeShape>
     <Border.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnEventsClicked" />
     </Border.GestureRecognizers>
  <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
               <Border Grid.Column="0"
         BackgroundColor="{AppThemeBinding Light=#DBEAFE, Dark=#1E3A5F}"
                WidthRequest="36"
   HeightRequest="36"
    VerticalOptions="Center">
          <Border.StrokeShape>
               <RoundRectangle CornerRadius="8" />
      </Border.StrokeShape>
 <Border.StrokeThickness>0</Border.StrokeThickness>
         <Image Source="{StaticResource IconEvents}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
  </Border>
  <Label Grid.Column="1"
    Text="Events"
FontSize="15"
        FontFamily="OpenSansSemibold"
   TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
         VerticalOptions="Center" />
             <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
       </Grid>
    </Border>

    <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

         <!-- Matches -->
<Border Padding="14,12" BackgroundColor="Transparent">
     <Border.StrokeShape>
 <RoundRectangle CornerRadius="10" />
    </Border.StrokeShape>
    <Border.GestureRecognizers>
    <TapGestureRecognizer Tapped="OnMatchesClicked" />
      </Border.GestureRecognizers>
   <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
        <Border Grid.Column="0"
     BackgroundColor="{AppThemeBinding Light=#DBEAFE, Dark=#1E3A5F}"
       WidthRequest="36"
      HeightRequest="36"
           VerticalOptions="Center">
     <Border.StrokeShape>
       <RoundRectangle CornerRadius="8" />
   </Border.StrokeShape>
          <Border.StrokeThickness>0</Border.StrokeThickness>
       <Image Source="{StaticResource IconMatches}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
    </Border>
        <Label Grid.Column="1"
       Text="Matches"
         FontSize="15"
FontFamily="OpenSansSemibold"
   TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
   VerticalOptions="Center" />
           <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
  </Grid>
        </Border>
        </VerticalStackLayout>
  </Border>

    <!-- ═══════════════════════════════════════════════════════════════
       TOOLS SECTION
       ═══════════════════════════════════════════════════════════════ -->
<Label Text="TOOLS"
      Style="{StaticResource SectionHeader}"
  Margin="4,8,0,0" />
    <!-- History moved to profile header; duplicate entry removed -->


    <Border Style="{StaticResource GlassCard}" Padding="8">
      <VerticalStackLayout Spacing="4">
   <!-- QR Scanner -->
   <Border Padding="14,12" BackgroundColor="Transparent">
        <Border.StrokeShape>
 <RoundRectangle CornerRadius="10" />
        </Border.StrokeShape>
       <Border.GestureRecognizers>
    <TapGestureRecognizer Tapped="OnQRScannerClicked" />
     </Border.GestureRecognizers>
              <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
     <Border Grid.Column="0"
        BackgroundColor="{AppThemeBinding Light=#F1F5F9, Dark=#334155}"
             WidthRequest="36"
 HeightRequest="36"
      VerticalOptions="Center">
         <Border.StrokeShape>
             <RoundRectangle CornerRadius="8" />
         </Border.StrokeShape>
       <Border.StrokeThickness>0</Border.StrokeThickness>
  <Image Source="{StaticResource IconCamera}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
     </Border>
   <Label Grid.Column="1"
      Text="QR Scanner"
       FontSize="15"
      FontFamily="OpenSansSemibold"
          TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
   VerticalOptions="Center" />
    <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
               </Grid>
  </Border>

 <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

      <!-- Graphs -->
            <Border Padding="14,12" BackgroundColor="Transparent">
   <Border.StrokeShape>
       <RoundRectangle CornerRadius="10" />
    </Border.StrokeShape>
    <Border.GestureRecognizers>
         <TapGestureRecognizer Tapped="OnGraphsClicked" />
   </Border.GestureRecognizers>
  <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
        <Border Grid.Column="0"
   BackgroundColor="{AppThemeBinding Light=#F1F5F9, Dark=#334155}"
        WidthRequest="36"
     HeightRequest="36"
        VerticalOptions="Center">
        <Border.StrokeShape>
         <RoundRectangle CornerRadius="8" />
 </Border.StrokeShape>
<Border.StrokeThickness>0</Border.StrokeThickness>
     <Image Source="{StaticResource IconGraphs}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
        </Border>
     <Label Grid.Column="1"
      Text="Analytics"
     FontSize="15"
     FontFamily="OpenSansSemibold"
          TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
     VerticalOptions="Center" />
    <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
</Grid>
       </Border>

       <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

   <!-- Match Prediction -->
      <Border Padding="14,12" BackgroundColor="Transparent">
      <Border.StrokeShape>
 <RoundRectangle CornerRadius="10" />
       </Border.StrokeShape>
  <Border.GestureRecognizers>
        <TapGestureRecognizer Tapped="OnMatchPredictionClicked" />
     </Border.GestureRecognizers>
            <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
         <Border Grid.Column="0"
              BackgroundColor="{AppThemeBinding Light=#F1F5F9, Dark=#334155}"
        WidthRequest="36"
      HeightRequest="36"
    VerticalOptions="Center">
             <Border.StrokeShape>
         <RoundRectangle CornerRadius="8" />
        </Border.StrokeShape>
             <Border.StrokeThickness>0</Border.StrokeThickness>
           <Image Source="{StaticResource IconPredictions}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
         </Border>
       <Label Grid.Column="1"
      Text="Match Prediction"
FontSize="15"
   FontFamily="OpenSansSemibold"
    TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
      VerticalOptions="Center" />
            <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
     </Grid>
 </Border>

  <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

     <!-- Server Data -->
        <Border Padding="14,12" BackgroundColor="Transparent">
  <Border.StrokeShape>
     <RoundRectangle CornerRadius="10" />
    </Border.StrokeShape>
      <Border.GestureRecognizers>
    <TapGestureRecognizer Tapped="OnDataClicked" />
          </Border.GestureRecognizers>
       <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
          <Border Grid.Column="0"
               BackgroundColor="{AppThemeBinding Light=#F1F5F9, Dark=#334155}"
    WidthRequest="36"
          HeightRequest="36"
              VerticalOptions="Center">
  <Border.StrokeShape>
           <RoundRectangle CornerRadius="8" />
     </Border.StrokeShape>
      <Border.StrokeThickness>0</Border.StrokeThickness>
     <Image Source="{StaticResource IconSave}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
         </Border>
  <Label Grid.Column="1"
         Text="Server Data"
           FontSize="15"
           FontFamily="OpenSansSemibold"
   TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
        VerticalOptions="Center" />
  <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
  </Grid>
 </Border>

     <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

         <!-- Chat -->
    <Border Padding="14,12" BackgroundColor="Transparent">
    <Border.StrokeShape>
      <RoundRectangle CornerRadius="10" />
        </Border.StrokeShape>
 <Border.GestureRecognizers>
       <TapGestureRecognizer Tapped="OnChatClicked" />
    </Border.GestureRecognizers>
    <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
   <Border Grid.Column="0"
       BackgroundColor="{AppThemeBinding Light=#F1F5F9, Dark=#334155}"
           WidthRequest="36"
  HeightRequest="36"
        VerticalOptions="Center">
           <Border.StrokeShape>
            <RoundRectangle CornerRadius="8" />
           </Border.StrokeShape>
           <Border.StrokeThickness>0</Border.StrokeThickness>
 <Image Source="{StaticResource IconChat}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
  </Border>
         <Label Grid.Column="1"
     Text="Chat"
        FontSize="15"
        FontFamily="OpenSansSemibold"
    TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}"
           VerticalOptions="Center" />
   <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
    </Grid>
          </Border>
         </VerticalStackLayout>
  </Border>

    <!-- ═══════════════════════════════════════════════════════════════
   ADMIN SECTION
        ═══════════════════════════════════════════════════════════════ -->
     <Label Text="ADMIN"
 Style="{StaticResource SectionHeader}"
    Margin="4,8,0,0" />

    <!-- Admin actions: management, users, settings, alliances -->
    <Border Style="{StaticResource GlassCard}" Padding="8">
      <VerticalStackLayout Spacing="4">
        <!-- Management -->
        <Border x:Name="ManagementButton" Padding="14,12" BackgroundColor="Transparent">
          <Border.StrokeShape>
            <RoundRectangle CornerRadius="10" />
          </Border.StrokeShape>
          <Border.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnManagementClicked" />
          </Border.GestureRecognizers>
          <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
            <Border Grid.Column="0" BackgroundColor="{AppThemeBinding Light=#E2E8F0, Dark=#475569}" WidthRequest="36" HeightRequest="36" VerticalOptions="Center">
              <Border.StrokeShape>
                <RoundRectangle CornerRadius="8" />
              </Border.StrokeShape>
              <Border.StrokeThickness>0</Border.StrokeThickness>
              <Image Source="{StaticResource IconManagement}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
            </Border>
            <Label Grid.Column="1" Text="Management" FontSize="15" FontFamily="OpenSansSemibold" TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}" VerticalOptions="Center" />
            <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
          </Grid>
        </Border>

        <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

        <!-- Manage Users -->
        <Border x:Name="ManageUsersButton" Padding="14,12" BackgroundColor="Transparent">
          <Border.StrokeShape>
            <RoundRectangle CornerRadius="10" />
          </Border.StrokeShape>
          <Border.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnManageUsersClicked" />
          </Border.GestureRecognizers>
          <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
            <Border Grid.Column="0" BackgroundColor="{AppThemeBinding Light=#E2E8F0, Dark=#475569}" WidthRequest="36" HeightRequest="36" VerticalOptions="Center">
              <Border.StrokeShape>
                <RoundRectangle CornerRadius="8" />
              </Border.StrokeShape>
              <Border.StrokeThickness>0</Border.StrokeThickness>
              <Image Source="{StaticResource IconUser}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
            </Border>
            <Label Grid.Column="1" Text="Manage Users" FontSize="15" FontFamily="OpenSansSemibold" TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}" VerticalOptions="Center" />
            <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
          </Grid>
        </Border>

        <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

        <!-- Settings -->
        <Border Padding="14,12" BackgroundColor="Transparent">
          <Border.StrokeShape>
            <RoundRectangle CornerRadius="10" />
          </Border.StrokeShape>
          <Border.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnSettingsClicked" />
          </Border.GestureRecognizers>
          <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
            <Border Grid.Column="0" BackgroundColor="{AppThemeBinding Light=#E2E8F0, Dark=#475569}" WidthRequest="36" HeightRequest="36" VerticalOptions="Center">
              <Border.StrokeShape>
                <RoundRectangle CornerRadius="8" />
              </Border.StrokeShape>
              <Border.StrokeThickness>0</Border.StrokeThickness>
              <Image Source="{StaticResource IconSettings}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
            </Border>
            <Label Grid.Column="1" Text="Settings" FontSize="15" FontFamily="OpenSansSemibold" TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}" VerticalOptions="Center" />
            <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
          </Grid>
        </Border>

        <BoxView HeightRequest="1" Color="{AppThemeBinding Light={StaticResource LightDivider}, Dark={StaticResource DarkDivider}}" Margin="14,0" />

        <!-- Alliances (admin only) -->
        <Border x:Name="AlliancesButton" Padding="14,12" BackgroundColor="Transparent">
          <Border.StrokeShape>
            <RoundRectangle CornerRadius="10" />
          </Border.StrokeShape>
          <Border.GestureRecognizers>
            <TapGestureRecognizer Tapped="OnAlliancesClicked" />
          </Border.GestureRecognizers>
          <Grid ColumnDefinitions="Auto,*,Auto" ColumnSpacing="14">
            <Border Grid.Column="0" BackgroundColor="{AppThemeBinding Light=#E2E8F0, Dark=#475569}" WidthRequest="36" HeightRequest="36" VerticalOptions="Center">
              <Border.StrokeShape>
                <RoundRectangle CornerRadius="8" />
              </Border.StrokeShape>
              <Border.StrokeThickness>0</Border.StrokeThickness>
              <Image Source="{StaticResource IconAlliances}" WidthRequest="18" HeightRequest="18" HorizontalOptions="Center" VerticalOptions="Center" Aspect="AspectFit" />
            </Border>
            <Label Grid.Column="1" Text="Alliances" FontSize="15" FontFamily="OpenSansSemibold" TextColor="{AppThemeBinding Light={StaticResource LightTextPrimary}, Dark={StaticResource DarkTextPrimary}}" VerticalOptions="Center" />
            <Label Grid.Column="2" Text="›" FontSize="20" TextColor="{StaticResource LightTextTertiary}" VerticalOptions="Center" />
          </Grid>
        </Border>
      </VerticalStackLayout>
    </Border>

      <!-- Bottom Spacing for TabBar -->
      <BoxView HeightRequest="80" Color="Transparent" />

    </VerticalStackLayout>
  </ScrollView>
</ContentPage>
