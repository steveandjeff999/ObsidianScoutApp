<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns:android="http://schemas.android.com/apk/res/android" 
    package="com.herodcorp.obsidianscout" 
    android:versionCode="5" 
    android:versionName="coconut">
    
	<application 
        android:allowBackup="true" 
        android:icon="@mipmap/appicon" 
        android:supportsRtl="true" 
     android:usesCleartextTraffic="true" 
 android:networkSecurityConfig="@xml/network_security_config" 
        android:label="ObsidianScout"
   android:theme="@style/MainTheme"
        android:hardwareAccelerated="true"
        android:largeHeap="true"
        android:vmSafeMode="false"
 android:requestLegacyExternalStorage="false">
        
		<!-- Use the generated runtime Java class name so the manifest entry applies to the actual service class generated by MAUI -->
		<service 
    android:name="crc64f3faeb7d35d8db75.ForegroundNotificationService" 
 android:enabled="true" 
      android:exported="false" 
   android:foregroundServiceType="dataSync" />
        
  <!-- MainActivity with Material Design 3 and Performance Optimizations -->
 <activity 
         android:name="crc64f3faeb7d35d8db75.MainActivity"
            android:theme="@style/MainTheme"
            android:windowSoftInputMode="adjustResize"
   android:exported="true"
        android:hardwareAccelerated="true"
        android:launchMode="singleTop"
 android:alwaysRetainTaskState="true"
      android:stateNotNeeded="false"
android:configChanges="orientation|screenSize|uiMode|screenLayout|smallestScreenSize|density|keyboard|keyboardHidden|navigation">
            
      <!-- Enable edge-to-edge display -->
            <meta-data 
       android:name="android.window.FEATURE_EDGE_TO_EDGE" 
        android:value="true" />
  
      <!-- Optimize for smooth rendering -->
     <meta-data
             android:name="android.max_aspect"
        android:value="2.4" />
    </activity>
        
	</application>

	<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
	<uses-permission android:name="android.permission.INTERNET" />
	<!-- Required for Android13+ to show notifications -->
	<uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
	<!-- Required when using specific foreground service types on newer Android (e.g., dataSync) -->
	<uses-permission android:name="android.permission.FOREGROUND_SERVICE_DATA_SYNC" />
	<!-- Camera permissions for QR code scanning -->
	<uses-permission android:name="android.permission.CAMERA" />
	<uses-feature android:name="android.hardware.camera" android:required="false" />
	<uses-feature android:name="android.hardware.camera.autofocus" android:required="false" />
    
    <!-- Declare support for modern Android features -->
    <uses-sdk android:minSdkVersion="21" android:targetSdkVersion="34" />
    
    <!-- Performance features -->
    <uses-feature android:name="android.hardware.touchscreen" android:required="false" />
    <uses-feature android:name="android.software.leanback" android:required="false" />
  <uses-feature android:glEsVersion="0x00020000" android:required="true" />
    
</manifest>